{
    "action.email": "0",
    "action.email.includeEntities": "0",
    "action.itsi_event_generator": "1",
    "action.itsi_event_generator.param.description": "Event type has returned to normal",
    "action.itsi_event_generator.param.event_identifier_fields": "groupingid",
    "action.itsi_event_generator.param.itsi_instruction": "%itsi_instruction%",
    "action.itsi_event_generator.param.meta_data": "{}",
    "action.itsi_event_generator.param.search_type": "basic",
    "action.itsi_event_generator.param.severity": "2",
    "action.itsi_event_generator.param.title": "%itsiNotableTitle%",
    "action.rss": "0",
    "action.script": "0",
    "actions": "itsi_event_generator",
    "alert.digest_mode": "1",
    "alert.expires": "24h",
    "alert.severity": "3",
    "alert.suppress": "0",
    "alert.track": "0",
    "alert_comparator": "greater than",
    "alert_threshold": "0",
    "alert_type": "number of events",
    "allow_skew": "5m",
    "auto_summarize": "0",
    "cron_schedule": "*/1 * * * *",
    "defer_scheduled_searchable_idxc": "0",
    "description": "WARNING - This search can not be edited via the CS editor, you must use searches, reports and alerts UI\nClears event type lanes.\nFind any grouped alerts that are down with corresponding clear in itsi_summary and return them to normal",
    "disabled": "0",
    "dispatch.allow_partial_results": "1",
    "dispatch.auto_cancel": "0",
    "dispatch.auto_pause": "0",
    "dispatch.buckets": "0",
    "dispatch.earliest_time": "-20m",
    "dispatch.latest_time": "now",
    "dispatch.lookups": "1",
    "dispatch.max_count": "500000",
    "dispatch.max_time": "0",
    "dispatch.rate_limit_retry": "0",
    "dispatch.reduce_freq": "10",
    "dispatch.rt_backfill": "0",
    "dispatch.sample_ratio": "1",
    "dispatch.spawn_process": "1",
    "dispatch.time_format": "%FT%T.%Q%:z",
    "dispatch.ttl": "2p",
    "dispatchAs": "owner",
    "eai:acl": {
        "app": "itsi",
        "can_change_perms": "1",
        "can_list": "1",
        "can_share_app": "1",
        "can_share_global": "1",
        "can_share_user": "1",
        "can_write": "1",
        "modifiable": "1",
        "owner": "admin",
        "perms": {
            "delete": [
                "itoa_admin",
                "itoa_team_admin"
            ],
            "read": [
                "*"
            ],
            "write": [
                "itoa_admin",
                "itoa_team_admin"
            ]
        },
        "removable": "1",
        "sharing": "global"
    },
    "is_scheduled": "1",
    "is_visible": "1",
    "key": "Service Monitoring - Event Type RTN",
    "max_concurrent": "1",
    "name": "Service Monitoring - Event Type RTN",
    "next_scheduled_time": "2025-05-06 13:28:17 UTC",
    "precalculate_required_fields_for_alerts": "1",
    "qualifiedSearch": " ``` Clear events are KPIs and entities that now are OK in the metrics index but NOT OK in the alerts index, for active active episodes ```   \nmstats latest(alert_level) as metric_alert_level where index=itsi_summary_metrics AND \n    [| tstats latest(severity) as last_sev, max(severity) as max_sev where index=itsi_grouped_alerts source!=\"Episode Monitoring*\" by itsi_service_id, itsi_kpi_id, entity_title, itsi_group_id  \n     | where last_sev > `itsi_sev_normal` | `filter_to_open_episodes` | fields itsi_service_id, itsi_kpi_id, entity_title | format ]\n    by itsi_service_id, itsi_kpi_id, entity_title\n| where metric_alert_level <= `itsi_sev_normal` \n``` What is left here are the kpis in any open episode that are normal or better ```\n|  rename itsi_*_id as *id\n| `add_universal_alert_fields_to_notable($name$)`\n``` Join on episodes to get the sig, src and subcomponent ```\n| join serviceid kpiid entity_title \n      [| tstats latest(severity) as event_alert_level where index=itsi_grouped_alerts by itsi_service_id itsi_kpi_id entity_title signature, src, subcomponent \n       | rename itsi_service_id as serviceid, itsi_kpi_id as kpiid]\n``` Finally, return the clearing event ``` \n| eval kpi=kpi_name, severity=metric_alert_level, itsi_service_id=serviceid\n| `add_event_type`\n| eval itsiNotableTitle=printf(\"\\\"%s\\\":\\\"%s\\\" entity \\\"%s\\\" has returned to normal\", service_name, kpi, entity_title)\n| eval itsiDescription=\"Return to normal\",  _time=now()\n| fields _time service*, kpi*, entity* severity *_alert_level groupingid alert_* itsi* signature, src, subcomponent",
    "realtime_schedule": "1",
    "restart_on_searchpeer_add": "1",
    "run_n_times": "0",
    "run_on_startup": "0",
    "schedule_as": "auto",
    "schedule_priority": "default",
    "schedule_window": "auto",
    "search": "| ``` Clear events are KPIs and entities that now are OK in the metrics index but NOT OK in the alerts index, for active active episodes ```   \nmstats latest(alert_level) as metric_alert_level where index=itsi_summary_metrics AND \n    [| tstats latest(severity) as last_sev, max(severity) as max_sev where index=itsi_grouped_alerts source!=\"Episode Monitoring*\" by itsi_service_id, itsi_kpi_id, entity_title, itsi_group_id  \n     | where last_sev > `itsi_sev_normal` | `filter_to_open_episodes` | fields itsi_service_id, itsi_kpi_id, entity_title | format ]\n    by itsi_service_id, itsi_kpi_id, entity_title\n| where metric_alert_level <= `itsi_sev_normal` \n``` What is left here are the kpis in any open episode that are normal or better ```\n|  rename itsi_*_id as *id\n| `add_universal_alert_fields_to_notable($name$)`\n``` Join on episodes to get the sig, src and subcomponent ```\n| join serviceid kpiid entity_title \n      [| tstats latest(severity) as event_alert_level where index=itsi_grouped_alerts by itsi_service_id itsi_kpi_id entity_title signature, src, subcomponent \n       | rename itsi_service_id as serviceid, itsi_kpi_id as kpiid]\n``` Finally, return the clearing event ``` \n| eval kpi=kpi_name, severity=metric_alert_level, itsi_service_id=serviceid\n| `add_event_type`\n| eval itsiNotableTitle=printf(\"\\\"%s\\\":\\\"%s\\\" entity \\\"%s\\\" has returned to normal\", service_name, kpi, entity_title)\n| eval itsiDescription=\"Return to normal\",  _time=now()\n| fields _time service*, kpi*, entity* severity *_alert_level groupingid alert_* itsi* signature, src, subcomponent",
    "sid": "Service Monitoring - Event Type RTN",
    "skip_scheduled_realtime_idxc": "0",
    "version": "0.0.41"
}